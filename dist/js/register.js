"use strict";$(function(){$(".denglv").on("click",function(){$(".dlkuang").fadeToggle({height:"toggle"},"slow"),$(".zhuchek")[0].style.display="none"}),$(".zhuche").on("click",function(){$(".zhuchek").fadeToggle({height:"toggle"},"slow"),$(".dlkuang")[0].style.display="none"});var o=$(".zhanghao"),s=$(".mima"),a=$(".show");console.log(o),$(".denglv-btn").on("click",function(){var e=o.val(),n=s[0].value,t=new XMLHttpRequest;t.open("post","http://localhost/wrong_question/project/dist/server.php"),t.setRequestHeader("content-type","application/x-www-form-urlencoded"),t.send("username=".concat(e,"&password=").concat(n)),t.onreadystatechange=function(){200==t.status&&4==t.readyState&&(1==t.responseText?(a[0].style.width=200,a[0].style.height=30,a[0].innerHTML="欢迎您".concat(name),$(".memberloginDl")[0].style.display="none",$(".tuichu")[0].style.display="block",$(".dlkuang").fadeToggle({height:0},2e3),$(".names")[0].style.display="none",$(".yonghu")[0].innerHTML=decodeURIComponent(getCookie("name"))):(a[0].innerHTML="用户名或者密码错误,请重新登陆",$(".memberloginDl")[0].style.display="block"))}});var l,e=new XMLHttpRequest;e.open("get","http://localhost/wrong_question/project/dist/server.php"),e.send(null),e.onreadystatechange=function(){200==e.status&&4==e.readyState&&1==e.responseText&&($(".memberloginDl")[0].style.display="none",$(".tuichu")[0].style.display="block",$(".names")[0].style.display="none",$(".yonghu")[0].innerHTML=decodeURIComponent(getCookie("name")))},$(".tuichu").on("click",function(){removeCookie("name"),removeCookie("password"),a[0].style.display="none",$(".memberloginDl")[0].style.display="block",$(".tuichu")[0].style.display="none",$(".names")[0].style.display="block",$(".yonghu")[0].style.display="none"}),$(".list-box").on("mouseenter","mousemove",function(){$(this).fadeIn({})}),l=1,$("#yonghu").blur(function(){l=1;$("#pand").html("");var e=$("#yonghu").val();/^[a-z]\w{5,9}$/i.test(e)?$("#pand").html("可以注册"):($("#pand").html(" - 用户名长度不能少于 6 个字符。"),l=0)}),$("#email").blur(function(){l=1;$("#pandEmail").html("");var e=$("#email").val();/^\w+@\w+.\w+/.test(e)?$("#pandEmail").html("可以注册"):($("#pandEmail").html(" * 邮件地址不合法"),l=0)}),$("#password1").blur(function(){l=1;$("#pandPass").html("");var e=$("#password1").val();/^\w{6,18}$/.test(e)?$("#pandPass").html("可以注册"):($("#pandPass").html(" - 密码长度不能少于 6 个字符。"),l=0)}),$("#password2").blur(function(){l=1,$("#pandPass2").html("");var e=$("#password2").val();new RegExp($("#password1").val()).test(e)&&0!=e?$("#pandPass2").html("可以注册"):($("#pandPass2").html("- 两次输入密码不一致"),l=0)}),$("#button").click(function(){if(l=1,!$("#checkbox").prop("checked"))return l=0,alert("是否同意注册");if(l){var e=$("#yonghu").val(),n=$("#password1").val(),t=new XMLHttpRequest;t.open("post","http://localhost/wrong_question/project/dist/zhuche.php"),t.setRequestHeader("content-type","application/x-www-form-urlencoded"),t.send("name=".concat(e,"&password=").concat(n)),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&(1==t.responseText?($(".bbb")[0].style.display="block",$(".bbb").html(name+"注册成功"),$("#zhuce")[0].style.display="none"):($(".bbb").html("注册失败"),$("#zhuce")[0].style.display="block"))}}})});